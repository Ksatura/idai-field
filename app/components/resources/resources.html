<div id="resources" class="row bg-light py-2">

    <div class="col-md-6">
        <navigation></navigation>
    </div>

    <div class="col-md-6 mr-md-auto">
        <div class="row">
            <div id="search-bar-container" class="col-md-9"
                 (mouseenter)="show_search_help_tooltip = true"
                 (mouseleave)="show_search_help_tooltip = false">
                <resources-search-bar [q]="getQueryString()"
                                      [types]="getTypeFilters()"
                                      [relationName]="'isRecordedIn'"
                                      [relationRangeType]="viewFacade.getCurrentViewMainType()"
                                      (onQueryStringChanged)="setQueryString($event)"
                                      (onTypesChanged)="setTypeFilters($event)">
                </resources-search-bar>


                <button *ngIf="show_search_help_tooltip" class="search-help-tooltip btn btn-outline-primary" style="
                    outline: none !important; position: absolute; top: 2px; right: 66px;
                    box-shadow: none !important;
                    border: 0px; margin-top: 2px; margin-bottom: 2px; color: #ababab;">
                    <span class="mdi mdi-help-circle"
                          ngbTooltip="Geben Sie Suchbegriffe ein, um die Menge der Suchtreffer in der Ressourcenliste einzuschränken. Werden keine Suchtreffer im aktuellen Kontext gefunden, werden Suchvorschläge aus anderen Kontexten angezeigt. Es kann ein Platzhalter nach der Art 'S[EU]-1' verwendet werden. Solch eine Suche trifft 'SE-1' und 'SU-1'. 'S[EU]' trifft 'SE*' und 'SU*'."
                          placement="bottom"></span>
                </button>
            </div>

            <div id="buttons-container" class="col-md-3">
                <div *ngIf="ready" class="btn-group resources-mode-buttons">
                    <button id="map-mode-button"
                            (click)="switchMode('map')"
                            ngbTooltip="Kartendarstellung der Ressourcen"
                            placement="left"
                            class="btn btn-primary m-0"
                            [class.active]="currentModeIs('map')">
                        <span class="mdi mdi-map"></span>
                    </button>
                    <button id="list-mode-button"
                            (click)="switchMode('list')"
                            class="btn btn-primary m-0"
                            ngbTooltip="Listendarstellung der Ressourcen"
                            placement="left"
                            [class.active]="currentModeIs('list')">
                        <span class="mdi mdi-table"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="resources-content"
     class="row"
     (dragover)="false"
     (dragleave)="false"
     (drop)="false">

    <div *ngIf="ready && !viewFacade.isInOverview() && !viewFacade.getSelectedOperationTypeDocument() && !isEditingGeometry"
         class="col-8 text-center alert alert-warning no-main-type-resource-alert">
        <em>Legen Sie eine Ressource vom Typ '{{viewFacade.getOperationTypeLabel()}}' in der
            <a href="#" routerLink="/resources/project">Übersicht</a> an, um hier mit ihr arbeiten zu können.
        </em>
    </div>

    <!--<div *ngIf="(view && view.mainType == 'project') || mainTypeManager.selectedMainTypeDocument || isEditing" class="col-lg-12 col-md-12 col-sm-12">-->
    <div class="col-lg-12 col-md-12 col-sm-12 bg-light">
        <resources-map *ngIf="viewFacade.getMode() == 'map'"></resources-map>
        <list *ngIf="viewFacade.getMode() == 'list'" [ready]="ready" [documents]="viewFacade.getDocuments()"></list>
    </div>

</div>
