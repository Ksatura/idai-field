<ng-template #deleteModal let-c="close">
    <div class="modal-body">
        <p *ngIf="selected.length > 1">Möchten Sie die {{selected.length}} markierten Bilder wirklich löschen?</p>
        <p *ngIf="selected.length == 1">Möchten Sie das markierte Bild wirklich löschen?</p>
    </div>
    <div class="modal-footer">
        <button type="button" id="delete-images-confirm" class="btn btn-danger" (click)="c('delete')">Löschen</button>
        <button type="button" id="delete-images-cancel" class="btn btn-secondary" (click)="c('cancel')">Abbrechen</button>
    </div>
</ng-template>

<div (dragover)="false"
     (dragleave)="false"
     (drop)="false">

    <div class="row bg-light">
        <div class="col-sm-12 py-2">
            <search-bar [q]="imagesState.getQuery().q" [showFiltersMenu]="false" [hidden]="selected.length"
                        (onQueryStringChanged)="setQueryString($event)">
            </search-bar>

            <div class="btn-toolbar" *ngIf="selected.length">
                <div class="btn-group mr-2" role="group">
                    <button type="button" id="delete-images" class="btn btn-danger" (click)="openDeleteModal(deleteModal)">
                        <span class="mdi mdi-delete"></span>
                    </button>
                    <button type="button" id="create-relations-btn" class="btn btn-primary" (click)="openLinkModal(linkModal)"
                            data-toggle="tooltip" title="Mit dieser Funktion kannst du ein oder mehrere ausgewählte Bilder mit einer anderen Ressource verknüpfen. Eine Verknüpfung ist zu allen Ressourcen möglich, bei denen es sich nicht selbst wiederum um Bilder handelt.">
                        <span class="mdi mdi-link"></span>
                    </button>
                </div>
                <div class="btn-group">
                    <button id="deselect-images" type="button" class="btn btn-secondary" (click)="clearSelection()">
                        Auswahl aufheben
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="image-grid" (window:resize)="onResize($event)">
        <image-grid
                [rows]="rows"
                [selected]="selected"
                (onClick)="select($event)"
                (onDoubleClick)="navigateTo($event)"
                (onImagesUploaded)="refreshGrid()"
                (onUploadError)="showUploadErrorMsg($event)"
        >
        </image-grid>
    </div>

</div>
