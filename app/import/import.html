<div id="import"
     (dragover)="false"
     (dragleave)="false"
     (drop)="false">

    <header>
        <h1>
            <span class="mdi mdi-file-import"></span>
            Import
        </h1>
    </header>

    <main>
        <div class="row">
            <div class="col-lg-6 offset-lg-3">
                <div class="form-horizontal">

                    <div class="md-form">
                        <div class="col-sm-2">
                            <label class="control-label col-sm-2">Quelle:</label>
                        </div>
                        <div class="col-sm-10">
                            <select id="importSourceSelect" class="form-control"
                                    [(ngModel)]="sourceType"
                                    (ngModelChange)="reset()"
                                    [class.disabled]="running">
                                <option value="file">Datei</option>
                                <option value="http">HTTP</option>
                            </select>
                        </div>
                    </div>

                    <div *ngIf="sourceType == 'file'">
                        <div class="md-form">
                            <div class="col-sm-2">
                                <label class="control-label col-sm-2">Pfad:</label>
                            </div>
                            <div class="col-sm-10">
                                <input id="importFileInput" type="file"
                                       class="form-control"
                                       [class.disabled]="running"
                                       (change)="selectFile($event)">
                            </div>
                        </div>
                    </div>

                    <div *ngIf="sourceType == 'http'">
                        <div class="md-form">
                            <div class="col-sm-12">
                                <input id="importUrlInput" type="text"
                                       class="form-control"
                                       [(ngModel)]="url"
                                       [class.disabled]="running">
                                <label for="importUrlInput" class="col-sm-2">URL</label>
                            </div>
                        </div>
                    </div>

                    <div class="md-form">
                        <div class="col-sm-2">
                            <label class="control-label col-sm-2">Format:</label>
                        </div>
                        <div class="col-sm-10">
                            <select id="importFormatSelect" class="form-control"
                                    [(ngModel)]="format"
                                    [class.disabled]="running">
                                <option value="native">iDAI.field</option>
                                <option value="idig">iDig</option>
                                <option value="geojson">GeoJSON</option>
                            </select>
                        </div>
                    </div>

                    <div class="md-form">
                        <div class="col-sm-12">
                            <button *ngIf="isReady()" id="importStartButton"
                                    class="btn btn-primary"
                                    (click)="startImport()">
                                Import starten
                            </button>
                            <button *ngIf="!isReady()"
                                    class="btn btn-primary disabled">
                                Import starten
                            </button>
                            <div style="display:inline-block;" *ngIf="!running" class="spinner"></div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </main>
</div>
