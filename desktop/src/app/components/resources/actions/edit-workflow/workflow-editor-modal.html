<div id="view-modal-header" class="modal-header">
    <div class="text-truncate heading"
         i18n="@@resources.contextMenu.editWorkflow">Arbeitsschritte dokumentieren</div>
    <button id="workflow-editor-cancel-button" class="btn btn-primary btn-square" (click)="cancel()">
        <span class="mdi mdi-close"></span>
    </button>
</div>
<div id="view-modal-body" class="modal-body bg-light workflow-editor-modal-body">
    <workflow-step-list [workflowSteps]="workflowSteps"
                        [sortMode]="sortMode"
                        (onChanged)="updateWorkflowSteps()"
                        (onRelationTargetSelected)="jumpToRelationTarget($event)"
                        (onSortModeChanged)="setSortMode($event)"></workflow-step-list>
    <div *ngIf="allowedWorkflowStepCategories?.length"
         id="workflow-step-plus-button-container">
        <workflow-step-plus-button [baseDocuments]="documents"
                                   [allowedCategories]="allowedWorkflowStepCategories"
                                   (onSubmit)="createWorkflowStep($event.category, $event.createMultiple)">
        </workflow-step-plus-button>
        <workflow-step-link-button [baseDocuments]="documents"
                                   [allowedWorkflowStepCategories]="allowedWorkflowStepCategories"
                                   (onWorkflowStepSelected)="linkWorkflowStep($event, documents)">
        </workflow-step-link-button>
    </div>
</div>
