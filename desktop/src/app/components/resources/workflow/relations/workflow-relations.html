<div *ngIf="relationTargets" class="dropdown workflow-relations-container"
     ngbDropdown
     placement="bottom-left top-left">
    <div class="workflow-relations-toggle" ngbDropdownToggle>
        <document-teaser *ngIf="relationTargets.length === 1"
                        [document]="relationTargets[0]"
                        [showShortDescription]="false"></document-teaser>

        <div *ngIf="relationTargets.length > 1 && categoryInfos.length < 4">
            <div *ngFor="let info of categoryInfos" class="category-info">
                <category-icon [category]="info.categoryName" [size]="35"></category-icon>
                <span class="category-count">{{info.count}}</span>
            </div>
        </div>

        <div *ngIf="relationTargets.length > 1 && categoryInfos.length >= 4">
            <div *ngFor="let info of categoryInfos | slice:0:2" class="category-info">
                <category-icon [category]="info.categoryName" [size]="35"></category-icon>
                <span class="category-count">{{info.count}}</span>
            </div>
            <div class="category-info">
                <span class="category-count additional-categories">+ {{getAdditionalCategoriesCount()}}</span>
            </div>
        </div>
    </div>
    <div class="dropdown-menu" ngbDropdownMenu>
        <div class="relation-targets-container">
            <button *ngFor="let relationTarget of relationTargets"
                    class="dropdown-item"
                    (click)="selectRelationTarget(relationTarget)">
                <document-teaser [document]="relationTarget" [showShortDescription]="false"></document-teaser>
            </button>
        </div>
    </div>
</div>
