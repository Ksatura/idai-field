<div class="modal-header">
    <h5 *ngIf="isSelectionMode()"
        class="modal-title"
        i18n="@@configuration.selectValuelist">Werteliste auswählen</h5>
    <h5 *ngIf="!isSelectionMode()"
        class="modal-title"
        i18n="@@configuration.manageValuelists">Wertelisten verwalten</h5>
</div>

<div class="modal-body row manage-valuelists-modal-body">
    <div class="col-md-6">
        <div class="input-group mb-2">
            <input type="text"
                   id="field-name"
                   class="form-control"
                   [(ngModel)]="searchTerm"
                   (ngModelChange)="applyValuelistSearch()">
        </div>
        <valuelist-listing [valuelists]="valuelists"
                           [selectedValuelist]="selectedValuelist"
                           [emptyValuelist]="emptyValuelist"
                           [searchTerm]="searchTerm"
                           [currentValuelistId]="clonedField?.valuelist?.id"
                           (onValuelistSelected)="select($event)">
        </valuelist-listing>
    </div>
    <div class="col-md-6">
        <valuelist-preview [valuelist]="selectedValuelist"></valuelist-preview>
    </div>
</div>

<div class="modal-footer">
    <div *ngIf="isSelectionMode() || selectedValuelist === emptyValuelist"
         id="add-field-button"
         class="btn btn-success"
         [class.disabled]="!selectedValuelist"
         (click)="confirmSelection()">
        <span *ngIf="isSelectionMode()" i18n="@@configuration.selectValuelist">Werteliste auswählen</span>
        <span *ngIf="!isSelectionMode()" i18n="@@configuration.selectValuelist">Werteliste erstellen</span>
    </div>
    <div id="cancel-add-field-modal-button"
         class="btn btn-secondary"
         (click)="cancel()">
        <span i18n="@@buttons.cancel">Abbrechen</span>
    </div>
</div>
