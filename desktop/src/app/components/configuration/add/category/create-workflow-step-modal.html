<div class="modal-header configuration-editor-modal-header">
    <h5 class="modal-title" i18n="@@configuration.addSpecificCategory">
        Kategorie <code>{{category.name}}</code> hinzufügen
    </h5>
</div>

<div class="modal-body bg-light">
   <div *ngIf="!isExecutedOnSelected" class="target-category-section">
        <div class="target-category-info">
            <p i18n="configuration.createWorkflowStep.info.isExecutedOn.1">
                Bitte wählen Sie die erlaubten Kategorien von Ressourcen aus, an denen der Arbeitsschritt
                <b>durchgeführt</b> werden kann.
            </p>
            <p i18n="configuration.createWorkflowStep.info.isExecutedOn.2">
                Sie können diese Auswahl später anpassen, indem Sie das Feld "{{getFieldLabel('isExecutedOn')}}" editieren.
            </p>
        </div>
        <div class="target-category-picker-container">
            <category-picker [topLevelCategoriesArray]="selectableCategories"
                             [selectedCategories]="selectedCategories.isExecutedOn"
                             [customProjectConfiguration]="clonedProjectConfiguration"
                             [allowPickingAbstractCategories]="true"
                             (onCategoryPicked)="toggleCategory($event, 'isExecutedOn')">
            </category-picker>
        </div>
    </div>

    <div *ngIf="isExecutedOnSelected" class="target-category-section">
        <div class="target-category-info">
            <p i18n="configuration.createWorkflowStep.info.resultsIn.1">
                Bitte wählen Sie optional die erlaubten Kategorien von Ressourcen aus, die ein <b>Ergebnis</b>
                dieses Arbeitsschritts sein können.
            </p>
            <p i18n="configuration.createWorkflowStep.info.resultsIn.2">
                Sie können diese Auswahl später anpassen, indem Sie das Feld "{{getFieldLabel('resultsIn')}}" editieren.
            </p>
            <p i18n="configuration.createWorkflowStep.info.resultsIn.3">
                Sollten Sie an dieser Stelle keine Auswahl treffen, können Sie das Feld "{{getFieldLabel('resultsIn')}}"
                jederzeit nachträglich zur neuen Kategorie hinzufügen.
            </p>
        </div>
        <div class="target-category-picker-container">
            <category-picker [topLevelCategoriesArray]="selectableCategories"
                             [selectedCategories]="selectedCategories.resultsIn"
                             [customProjectConfiguration]="clonedProjectConfiguration"
                             [allowPickingAbstractCategories]="true"
                             (onCategoryPicked)="toggleCategory($event, 'resultsIn')">
            </category-picker>
        </div>
    </div>
</div>

<div class="modal-footer bg-light">
    <div class="btn btn-primary"
         [class.disabled]="!validate()"
         (click)="confirm()">
        <span *ngIf="!isExecutedOnSelected" i18n="@@buttons.next">Weiter</span>
        <span *ngIf="isExecutedOnSelected" i18n="@@buttons.ok">OK</span>
    </div>
    <div class="btn btn-secondary"
         (click)="cancel()">
        <span i18n="@@buttons.cancel">Abbrechen</span>
    </div>
</div>


