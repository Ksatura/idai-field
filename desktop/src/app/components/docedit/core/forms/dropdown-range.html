<div class="dating-component">
    <div class="input-group">
        <div class="input-group-prepend">
            <label *ngIf="showEndElements()">
                <span i18n="@@docedit.forms.dropdownRange.from">von</span>
            </label>
        </div>

        <!-- the following block is duplicated for
        the reason that this way we can retrigger setValue() again and again,
        even when no change occurred. we use this to return to the mode
        where only period is used
        -->
        <searchable-select *ngIf="showEndElements()"
                [selectedValue]="fieldContainer[field.name] && fieldContainer[field.name]['value']"
                [values]="getValues()"
                [getLabel]="getLabel"
                (onValueSelected)="setValue($event)"></searchable-select>
        <searchable-select *ngIf="!showEndElements()"
                [selectedValue]="fieldContainer[field.name] && fieldContainer[field.name]['value']"
                [values]="getValues()"
                [getLabel]="getLabel"
                (onValueSelected)="setValue($event)"></searchable-select>
        <!-- end -->

        <label *ngIf="showEndElements()" class="dropdown-range-end-label">
            <span i18n="@@docedit.forms.dropdownRange.to">bis</span>
        </label>
        <searchable-select *ngIf="showEndElements()"
                   [selectedValue]="fieldContainer[field.name] && fieldContainer[field.name]['endValue']"
                   [values]="getValues()"
                   [getLabel]="getLabel"
                   [disabled]="!fieldContainer[field.name]
                    || !fieldContainer[field.name]['value']
                    || fieldContainer[field.name]['value'] === ''"
                   (onValueSelected)="setEndValue($event)"></searchable-select>
        <div class="input-group-append">
            <button *ngIf="!showEndElements()"
                    ngbTooltip="Start- und Endzeitraum angeben"
                    i18n-ngbTooltip="@@docedit.forms.dropdownRange.tooltip"
                    placement="left"
                    container="body"
                    class="btn btn-outline-primary"
                    type="button"
                    (click)="activateEnd()">
                <span class="mdi mdi-arrow-expand-horizontal"></span>
            </button>
        </div>
    </div>
</div>
