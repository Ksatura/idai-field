<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="info-window.css">
    </head>
    <body>
        <div class="info-window">
            <img src="../img/logo.png">
            <p id="brand">Field Desktop</p>
            <p id="about-version"></p>
            <p>
                <button id="close-button" style="display: none;"></button>
            </p>
        </div>
        <script>
            const remote = window.require('@electron/remote');

            document.getElementById('about-version').textContent = 'Version ' + remote.app.getVersion();

            const buttonLabelTranslations = {
                de: 'Schlie√üen',
                en: 'Close',
                it: 'Chiudi'
            };

            let buttonLabel;
            for (let language of remote.getGlobal('config')['languages']) {
               if (buttonLabelTranslations[language]) {
                   buttonLabel = buttonLabelTranslations[language];
                   break;
               }
            }
            
            const closeButton = document.getElementById('close-button');
            closeButton.textContent = buttonLabel;
            closeButton.addEventListener('click', function() {
                remote.getCurrentWindow().close();
            });
            closeButton.style = '';
        </script>
    </body>
</html>
